input {
  http {
    port => 5011
    codec => "line"
  }
  udp {
    port => 5012
    codec => "json"
  }
  tcp {
    port => 5013
    codec => "json_lines"
  }
}
filter {
  grok {
    match => { "data.attributes.lifecycle-status" => "acknowledged" }
    add_tag => [ "taskStarted" ]
  }
  grok {
    match => { "data.attributes.lifecycle-status" => "completed" }
    add_tag => [ "taskCompleted" ]
  }
  elapsed {
    start_tag => "taskStarted"
    end_tag => "taskCompleted"
    unique_id_field => "data.id"
    timeout => 3600
  }
}
output {
  elasticsearch { 
    hosts => ["https://odfe-node1:9200"] 
    ssl => true
    ssl_certificate_verification => false
    user => logstash
    password => logstash
    ilm_enabled => false
    index => "logstash"
  }
  stdout { 
  } 
}